"use strict";(self.webpackChunkevent_reservation_app_docs=self.webpackChunkevent_reservation_app_docs||[]).push([[4478],{5557:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"backend/guia-de-convenciones","title":"Gu\xeda de convenciones","description":"\ud83d\udcd8 Gu\xeda de convenciones (Backend)","source":"@site/docs/backend/guia-de-convenciones.md","sourceDirName":"backend","slug":"/backend/guia-de-convenciones","permalink":"/EventReservationAppDocs/docs/backend/guia-de-convenciones","draft":false,"unlisted":false,"editUrl":"https://github.com/jose-angell/EventReservationAppDocs/docs/backend/guia-de-convenciones.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Gu\xeda de convenciones"},"sidebar":"backendSidebar","previous":{"title":"Introduccion","permalink":"/EventReservationAppDocs/docs/backend/intro"},"next":{"title":"Guia Creacion de Features","permalink":"/EventReservationAppDocs/docs/backend/Features/feature-guidelines"}}');var r=s(4848),d=s(8453);const c={sidebar_position:2,title:"Gu\xeda de convenciones"},a=void 0,l={},o=[{value:"\ud83d\udcd8 Gu\xeda de convenciones (Backend)",id:"-gu\xeda-de-convenciones-backend",level:2},{value:"1. Convenciones de C\xf3digo C#",id:"1-convenciones-de-c\xf3digo-c",level:3},{value:"1.1 Naming de elementos",id:"11-naming-de-elementos",level:4},{value:"1.2 Estructura de carpetas y namespaces",id:"12-estructura-de-carpetas-y-namespaces",level:4},{value:"2. Dise\xf1o de la API REST",id:"2-dise\xf1o-de-la-api-rest",level:3},{value:"2.1 Versionado",id:"21-versionado",level:4},{value:"2.2 Naming de endpoints",id:"22-naming-de-endpoints",level:4},{value:"2.3 C\xf3digos de estado",id:"23-c\xf3digos-de-estado",level:4},{value:"2.4 Estructura de respuestas de error",id:"24-estructura-de-respuestas-de-error",level:4},{value:"3. Base de datos y migraciones",id:"3-base-de-datos-y-migraciones",level:3},{value:"3.1 Naming de tablas y columnas",id:"31-naming-de-tablas-y-columnas",level:4},{value:"3.2 Migraciones",id:"32-migraciones",level:4},{value:"4. Logging y m\xe9tricas",id:"4-logging-y-m\xe9tricas",level:3},{value:"5. Testing",id:"5-testing",level:3},{value:"5.1 Unit tests",id:"51-unit-tests",level:4},{value:"5.2 Integration tests",id:"52-integration-tests",level:4},{value:"6. Git y flujo de trabajo en GitHub",id:"6-git-y-flujo-de-trabajo-en-github",level:3},{value:"6.1 Branch naming",id:"61-branch-naming",level:4},{value:"6.2 Commit messages",id:"62-commit-messages",level:4},{value:"6.3 Pull Requests",id:"63-pull-requests",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"-gu\xeda-de-convenciones-backend",children:"\ud83d\udcd8 Gu\xeda de convenciones (Backend)"}),"\n",(0,r.jsx)(n.p,{children:"Este documento recoge las reglas de estilo, patrones de dise\xf1o, naming y procesos que garantizan consistencia y calidad en el c\xf3digo y la API del backend."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"1-convenciones-de-c\xf3digo-c",children:"1. Convenciones de C\xf3digo C#"}),"\n",(0,r.jsx)(n.h4,{id:"11-naming-de-elementos",children:"1.1 Naming de elementos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clases / Interfaces / Enums:"})," PascalCase (e.g. ",(0,r.jsx)(n.code,{children:"ReservationService"}),", ",(0,r.jsx)(n.code,{children:"IResourceRepository"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"M\xe9todos / Propiedades / Eventos:"})," PascalCase (e.g. ",(0,r.jsx)(n.code,{children:"GetAvailableResources()"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Variables locales / par\xe1metros:"})," camelCase (e.g. ",(0,r.jsx)(n.code,{children:"reservationId"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Constantes / readonly:"})," PascalCase (e.g. ",(0,r.jsx)(n.code,{children:"DefaultCacheDuration"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"12-estructura-de-carpetas-y-namespaces",children:"1.2 Estructura de carpetas y namespaces"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cada capa en su carpeta ra\xedz:  /src /Api \u2192 Controllers, DTOs /Application \u2192 UseCases, Interfaces /Domain \u2192 Entidades, ValueObjects /Infrastructure \u2192 EF Core, clientes HTTP"}),"\n",(0,r.jsxs)(n.li,{children:["Namespaces reflejan la ruta de carpetas: ",(0,r.jsx)(n.code,{children:"namespace Company.App.Application.UseCases.Reservations"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-dise\xf1o-de-la-api-rest",children:"2. Dise\xf1o de la API REST"}),"\n",(0,r.jsx)(n.h4,{id:"21-versionado",children:"2.1 Versionado"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Siempre versiona tu ruta base:  ",(0,r.jsx)(n.code,{children:'[Route("api/v1/[controller]")]'})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"22-naming-de-endpoints",children:"2.2 Naming de endpoints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Plural para recursos:"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET    /api/v1/resources"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"GET    /api/v1/resources/{id}"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST   /api/v1/reservations"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"DELETE /api/v1/reservations/{id}"})}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"23-c\xf3digos-de-estado",children:"2.3 C\xf3digos de estado"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"200 OK"})," \u2013 Consulta exitosa."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"201 Created"})," \u2013 Creaci\xf3n exitosa."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"400 Bad Request"})," \u2013 Validaci\xf3n fallida."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"401 Unauthorized"})," \u2013 Sin token o inv\xe1lido."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"403 Forbidden"})," \u2013 Sin permiso."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"404 Not Found"})," \u2013 Recurso no existe."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"409 Conflict"})," \u2013 Estado inv\xe1lido o duplicado."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"500 Internal Server Error"})," \u2013 Error imprevisto."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"24-estructura-de-respuestas-de-error",children:"2.4 Estructura de respuestas de error"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsonc",children:'{\r\n"errorCode": "Resource.NotFound",\r\n"message": "No se encontr\xf3 el recurso con id \'123\'.",\r\n"details": [ ... ]           // Opcional, para validaciones de modelo\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-base-de-datos-y-migraciones",children:"3. Base de datos y migraciones"}),"\n",(0,r.jsx)(n.h4,{id:"31-naming-de-tablas-y-columnas",children:"3.1 Naming de tablas y columnas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tablas en singular PascalCase: Reservation, Resource."}),"\n",(0,r.jsx)(n.li,{children:"Columnas PascalCase: CreatedAt, IsActive."}),"\n",(0,r.jsxs)(n.li,{children:["FKs: ",(0,r.jsx)(n.code,{children:"{Entidad}Id"})," (e.g. ResourceId)."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"32-migraciones",children:"3.2 Migraciones"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Nombre con prefijo fecha: ",(0,r.jsx)(n.code,{children:"YYYYMMDD_<Descripci\xf3n>"})]}),"\n",(0,r.jsxs)(n.li,{children:["Descripci\xf3n clara: ",(0,r.jsx)(n.code,{children:"20250715_AddReservationTable"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"4-logging-y-m\xe9tricas",children:"4. Logging y m\xe9tricas"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Logger: inyectar ",(0,r.jsx)(n.code,{children:"ILogger<T>"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Mensajes:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Deben contener contexto (e.g. reservationId, userId)."}),"\n",(0,r.jsxs)(n.li,{children:["Formato: ",(0,r.jsx)(n.code,{children:'_logger.LogInformation("Booked reservation {ReservationId} for user {UserId}", reservationId, userId);'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"M\xe9tricas: usar Prometheus / App Metrics si aplica, exp\xf3n /metrics."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-testing",children:"5. Testing"}),"\n",(0,r.jsx)(n.h4,{id:"51-unit-tests",children:"5.1 Unit tests"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Proyecto: tests/Unit."}),"\n",(0,r.jsxs)(n.li,{children:["Naming: ",(0,r.jsx)(n.code,{children:"<Feature>UseCaseTests"}),", ",(0,r.jsx)(n.code,{children:"<ControllerName>Tests"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Arrange/Act/Assert claras en cada test."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"52-integration-tests",children:"5.2 Integration tests"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Proyecto: tests/Integration."}),"\n",(0,r.jsxs)(n.li,{children:["Usar ",(0,r.jsx)(n.code,{children:"WebApplicationFactory<Program>"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Base de datos InMemory o Testcontainers."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"6-git-y-flujo-de-trabajo-en-github",children:"6. Git y flujo de trabajo en GitHub"}),"\n",(0,r.jsx)(n.h4,{id:"61-branch-naming",children:"6.1 Branch naming"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"main \u2192 producci\xf3n."}),"\n",(0,r.jsx)(n.li,{children:"develop \u2192 staging/QA."}),"\n",(0,r.jsxs)(n.li,{children:["feature/",(0,r.jsx)(n.code,{children:"<nombre>"})," \u2192 nuevas features."]}),"\n",(0,r.jsxs)(n.li,{children:["hotfix/",(0,r.jsx)(n.code,{children:"<nombre>"})," \u2192 correcciones urgentes."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"62-commit-messages",children:"6.2 Commit messages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Formato: ",(0,r.jsx)(n.code,{children:"<tipo>(<scope>): <mensaje breve>"})]}),"\n",(0,r.jsx)(n.li,{children:"tipo: feat, fix, chore, docs, test."}),"\n",(0,r.jsx)(n.li,{children:"scope: carpeta o m\xf3dulo (e.g. reservations)."}),"\n",(0,r.jsx)(n.li,{children:"Ejemplo: feat(reservations): add endpoint for listing resources by date"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"63-pull-requests",children:"6.3 Pull Requests"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Usa plantilla PR que incluya:\r\n-Issue asociado (Closes #123).\r\n-Descripci\xf3n de cambios.\r\n-Checklist de tests y documentaci\xf3n."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(6540);const r={},d=i.createContext(r);function c(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);